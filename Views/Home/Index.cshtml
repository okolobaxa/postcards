@model IEnumerable<PostcardsManager.ViewModels.PostcardMainPageViewModel>

@{
    ViewBag.Title = "[[[Main Page]]]";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="rb-art-container visible active">
    @if (!Model.Any())
    {
        <div class="container">
            <div class="row">
                <div class="jumbotron">
                    <h1>[[[No postcards in database!]]]</h1>
                    <p>[[[First of all, please add publishers, series, postcards and other to database.]]]</p>
                    <p>
                        <a class="btn btn-primary btn-lg" href="@Url.Action("Create", "Postcards")" role="button">[[[Add]]]</a>
                    </p>
                </div>
            </div>
        </div>
    }
    else
    {
        <section class="rb-art-constants">
            <div class="rb-art-cardbox rb-art-cardbox--title">
                <div class="rb-art-cardbox__wrap">
                    <img alt="" height="226" src="~/Content/images/cover.jpg" width="360">
                </div>
            </div>
            <a class="rb-art-cardbox rb-art-cardbox--add" data-spa="" href="@Url.Action("Create", "Postcards")">
                <span class="flaticon-plus79"></span>
            </a>
            <div class="rb-art-cardbox rb-art-cardbox--dbl rb-art-cardbox--desc1">
                <div class="rb-art-cardbox__wrap">
                    <div class="rb-art-cardbox__content">
                        <h3>Открытки старого Саратова</h3>
                        <p>Проект <a href="http://oldsaratov.ru">"Фотографии старого Саратова"</a> продолжает заниматься каталогизацией открыток с видами Саратова. <br/> 
                        Идеи, замечания и предложения направляйте по адресу <a href="mailto:info@oldsaratov.ru">info@oldsaratov.ru</a></p>
                    </div>
                </div>
            </div>
            <div class="rb-art-cardbox rb-art-cardbox--dbl rb-art-cardbox--desc2">
                <div class="rb-art-cardbox__wrap">
                    <div class="rb-art-cardbox__content">
                        <h3>
                            Опять краудсорсинг!
                        </h3>
                        <p>Краудсорсинг - совместная работа над чем-то. Эта методика уже оправдала себя на проекте <a href="http://oldsaratov.ru">"Фотографии старого Саратова"</a> и мы будем использовать её тут. Добавить открытки в базу может любой желающий!</p>
                        <a class="rb-art-btn" data-spa="" href="@Url.Action("Create", "Postcards")">[[[Add]]]</a>
                    </div>
                </div>
            </div>
            <div class="rb-art-cardbox rb-art-cardbox--end">
                <div class="rb-art-cardbox__wrap">
                    <div class="rb-art-cardbox__content">
                        <h3>Расскажи друзьям</h3>

                        <div data-background-alpha="0.0" data-buttons-color="#FFFFFF" data-counter-background-color="#ffffff" data-share-counter-size="14" data-top-button="false" data-share-counter-type="disable" data-share-style="1" data-mode="share" data-like-text-enable="false" data-mobile-view="true" data-icon-color="#ffffff" data-orientation="horizontal" data-text-color="#000000" data-share-shape="round-rectangle" data-sn-ids="fb.vk.tw.ok.gp." data-share-size="40" data-background-color="#ffffff" data-preview-mobile="false" data-mobile-sn-ids="fb.vk.tw.wh.ok.gp." data-pid="1402411" data-counter-background-alpha="1.0" data-following-enable="false" data-exclude-show-more="false" data-selection-enable="true" class="uptolike-buttons"></div>
                    </div>
                </div>
            </div>
        </section>
        <section class="rb-art-cards">
            @foreach (var postcard in Model)
            {
                <a class="rb-art-card" href="@Url.Action("Details", "Postcards", new {id = postcard.Id})">
                    <div class="rb-art-card__wrap">
                        <div class="rb-art-card__loader"></div>
                        <div class="rb-art-card__back">
                            @if (postcard.ImageFrontUrl != null)
                            {
                                <img height="226" width="360" src="@postcard.ImageFrontUrl" alt="@postcard.FrontTitle">
                            }
                            else
                            {
                                <img height="226" width="360" src="" alt="@postcard.FrontTitle">
                            }
                        </div>
                        <div class="rb-art-card__hover">
                            <div class="rb-art-card__author">
                                <div class="rb-art-card__name" data-bind="text: $data.author.name">@postcard.FrontTitle</div>
                            </div>
                            <div class="rb-art-card__show">[[[Open]]]</div>
                        </div>
                    </div>
                </a>
            }
        </section>
    }
</section>

@section Scripts {
    <script type="text/javascript">
        (function(w, doc) {
            if (!w.__utlWdgt) {
                w.__utlWdgt = true;
                var d = doc, s = d.createElement('script'), g = 'getElementsByTagName';
                s.type = 'text/javascript';
                s.charset = 'UTF-8';
                s.async = true;
                s.src = ('https:' == w.location.protocol ? 'https' : 'http') + '://w.uptolike.com/widgets/v1/uptolike.js';
                var h = d[g]('body')[0];
                h.appendChild(s);
            }
        })(window, document);
    </script>
}